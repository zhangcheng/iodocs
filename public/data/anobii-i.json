{
    "endpoints": [
        {
            "methods": [
                {
                    "HTTPMethod": "GET",
                    "MethodName": "List topics",
                    "RequiresOAuth": "N",
                    "Synopsis": "List all topics",
                    "URI": "/topic",
                    "parameters": [
                        {
                            "Default": "editions",
                            "Description": "How to sort the list of topics",
                            "EnumeratedList": [
                                "editions",
                                "featured",
                                "people",
                                "title",
                                "creator"
                            ],
                            "Name": "sort",
                            "Required": "Y",
                            "Type": "enumerated"
                        },
                        {
                            "Description": "The direction in which to order the results",
                            "EnumeratedList": [
                                "default",
                                "asc",
                                "desc"
                            ],
                            "Name": "direction",
                            "Required": "N",
                            "Type": "enumerated"
                        },
                        {
                            "Description": "Which page to return",
                            "Name": "page",
                            "Pattern": "[0-9]+",
                            "Required": "N",
                            "Type": "integer"
                        },
                        {
                            "Description": "How many results to return (0-100)",
                            "Name": "rows",
                            "Pattern": "(?:100|[0-9]{0,2})",
                            "Required": "N",
                            "Type": "integer"
                        }
                    ]
                },
                {
                    "HTTPMethod": "POST",
                    "MethodName": "Add topic",
                    "RequiresOAuth": "N",
                    "Synopsis": "Add a topic",
                    "URI": "/topic",
                    "parameters": [
                        {
                            "Default": "",
                            "Description": "A name for the topic",
                            "Name": "title",
                            "Required": "Y",
                            "Type": "string"
                        },
                        {
                            "Default": "",
                            "Description": "A description for the topic",
                            "Name": "description",
                            "Required": "N",
                            "Type": "text"
                        }
                    ]
                }    ,
                    {
                        "HTTPMethod": "GET",
                        "MethodName": "List contributors",
                        "RequiresOAuth": "N",
                        "Synopsis": "Lists all contributors to a specific topics",
                        "URI": "/person?contributor",
                        "parameters": [
                            {
                                "Name": "topic",
                                "Type":    "integer",
                                "Pattern": "[0-9]+",
                                "Required": "Y",
                                "Description": "Topic to find contributors for"
                            },
                            {
                                "Name": "filter",
                                "Type": "enumerated",
                                "EnumeratedList": [
                                    "",
                                    "followers",
                                    "following"
                                ],
                                "Required": "N"
                            },
                            {
                                "Default": "editions",
                                "Description": "How to sort the list of people",
                                "EnumeratedList": [
                                    "",
                                    "contributions"
                                ],
                                "Name": "sort",
                                "Required": "N",
                                "Type": "enumerated"
                            },
                            {
                                "Description": "The direction in which to order the results",
                                "EnumeratedList": [
                                    "default",
                                    "asc",
                                    "desc"
                                ],
                                "Name": "direction",
                                "Required": "N",
                                "Type": "enumerated"
                            },
                            {
                                "Description": "Which page to return",
                                "Name": "page",
                                "Pattern": "[0-9]+",
                                "Required": "N",
                                "Type": "integer"
                            },
                            {
                                "Description": "How many results to return (0-100)",
                                "Name": "rows",
                                "Pattern": "(?:100|[0-9]{0,2})",
                                "Required": "N",
                                "Type": "integer"
                            }
                        ]
                    },
                    {
                        "HTTPMethod": "GET",
                        "MethodName": "List people",
                        "RequiresOAuth": "N",
                        "Synopsis": "Lists all people in a topic",
                        "URI": "/person",
                        "parameters": [
                            {
                                "Name": "topic",
                                "Type":    "integer",
                                "Pattern": "[0-9]+",
                                "Required": "Y",
                                "Description": "Topic to find contributors for"
                            },
                            {
                                "Description": "How to sort the list of people",
                                "EnumeratedList": [
                                    ""
                                ],
                                "Name": "sort",
                                "Required": "N",
                                "Type": "enumerated"
                            },
                            {
                                "Description": "The direction in which to order the results",
                                "EnumeratedList": [
                                    "",
                                    "followers",
                                    "following"
                                ],
                                "Name": "filter",
                                "Required": "N",
                                "Type": "enumerated"
                            },
                            {
                                "Description": "The direction in which to order the results",
                                "EnumeratedList": [
                                    "default",
                                    "asc",
                                    "desc"
                                ],
                                "Name": "direction",
                                "Required": "N",
                                "Type": "enumerated"
                            },
                            {
                                "Description": "Which page to return",
                                "Name": "page",
                                "Pattern": "[0-9]+",
                                "Required": "N",
                                "Type": "integer"
                            },
                            {
                                "Description": "How many results to return (0-100)",
                                "Name": "rows",
                                "Pattern": "(?:100|[0-9]{0,2})",
                                "Required": "N",
                                "Type": "integer"
                            }
                        ]
                    }
            ],
            "name": "Topics"
        },
        {
            "methods": [
                {
                    "HTTPMethod": "POST",
                    "MethodName": "Login",
                    "RequiresOAuth": "N",
                    "Synopsis": "Login as a site user",
                    "URI": "/person/login",
                    "parameters": [
                        {
                            "Default": "anobii@mailinator.com",
                            "Description": "The user's email",
                            "Name": "email",
                            "Required": "Y",
                            "Type": "email"
                        },
                        {
                            "Default": "anobii",
                            "Description": "The user's password",
                            "Name": "password",
                            "Required": "Y",
                            "Type": "string"
                        }
                    ]
                }
            ],
            "name": "Login"
        },
{
            "methods": [
                {
                    "HTTPMethod": "POST",
                    "MethodName": "Create Purchase",
                    "RequiresOAuth": "N",
                    "Synopsis": "creates a purchase",
                    "URI": "/purchase",
                    "parameters": [
                        {
                            "Default": "GB",
                            "Description": "The country",
                            "Name": "country",
                            "Required": "Y",
                            "Type": "text"
                        },
                        {
                            "Default": "",
                            "Description": "id of an edition",
                            "Name": "edition[id",
                            "Required": "Y",
                            "Type": "integer",
			    "Pattern": "[0-9]+"
                        },
                        {
                            "Default": "",
                            "Description": "id of the user",
                            "Name": "person[id",
                            "Required": "Y",
                            "Type": "integer",
			    "Pattern": "[0-9]+"
                        }
                    ]
                }
            ],
            "name": "Purchase"
        },
        {
            "name": "Person",
            "methods": [
                {
                    "HTTPMethod": "GET",
                    "MethodName": "List contributions",
                    "RequiresOAuth": "N",
                    "Synopsis": "Lists all topics contributed to by a user",
                    "URI": "/topic?contributor",
                    "parameters": [
                        {
                            "Name": "person",
                            "Type":    "integer",
                            "Pattern": "[0-9]+",
                            "Required": "Y",
                            "Description": "Person to find contributions of"
                        },
                        {
                            "Default": "editions",
                            "Description": "How to sort the list of topics",
                            "EnumeratedList": [
                                "",
                                "contributions"
                            ],
                            "Name": "sort",
                            "Required": "N",
                            "Type": "enumerated"
                        },
                        {
                            "Description": "The direction in which to order the results",
                            "EnumeratedList": [
                                "default",
                                "asc",
                                "desc"
                            ],
                            "Name": "direction",
                            "Required": "N",
                            "Type": "enumerated"
                        },
                        {
                            "Description": "Which page to return",
                            "Name": "page",
                            "Pattern": "[0-9]+",
                            "Required": "N",
                            "Type": "integer"
                        },
                        {
                            "Description": "How many results to return (0-100)",
                            "Name": "rows",
                            "Pattern": "(?:100|[0-9]{0,2})",
                            "Required": "N",
                            "Type": "integer"
                        }
                    ]
                },
                {
                    "HTTPMethod": "GET",
                    "MethodName": "List followers",
                    "RequiresOAuth": "N",
                    "Synopsis": "List the followers of a user",
                    "URI": "/person",
                    "parameters": [
                        {
                            "Name": "person",
                            "Type":    "integer",
                            "Pattern": "[0-9]+",
                            "Required": "Y",
                            "Description": "Person to find followers of"
                        },
                        {
                            "EnumeratedList": [
                                "",
                                "followers",
                                "following"
                            ],
                            "Name": "filter",
                            "Required": "N",
                            "Type": "enumerated"
                        },
                        {
                            "Description": "Which page to return",
                            "Name": "page",
                            "Pattern": "[0-9]+",
                            "Required": "N",
                            "Type": "integer"
                        },
                        {
                            "Description": "How many results to return (0-100)",
                            "Name": "rows",
                            "Pattern": "(?:100|[0-9]{0,2})",
                            "Required": "N",
                            "Type": "integer"
                        }
                    ]
                },
                {
                    "HTTPMethod": "GET",
                    "MethodName": "List users a user is following",
                    "RequiresOAuth": "N",
                    "Synopsis": "List the users a user is following",
                    "URI": "/person",
                    "parameters": [
                        {
                            "Name": "follower",
                            "Type":    "integer",
                            "Pattern": "[0-9]+",
                            "Required": "Y",
                            "Description": "Person to subscriptions of"
                        },
                        {
                            "EnumeratedList": [
                                "",
                                "followers",
                                "following"
                            ],
                            "Name": "filter",
                            "Required": "N",
                            "Type": "enumerated"
                        },
                        {
                            "Description": "Which page to return",
                            "Name": "page",
                            "Pattern": "[0-9]+",
                            "Required": "N",
                            "Type": "integer"
                        },
                        {
                            "Description": "How many results to return (0-100)",
                            "Name": "rows",
                            "Pattern": "(?:100|[0-9]{0,2})",
                            "Required": "N",
                            "Type": "integer"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Book",
            "methods": [
                {
                    "HTTPMethod": "GET",
                    "MethodName": "List libraries",
                    "RequiresOAuth": "N",
                    "Synopsis": "Lists all the libraries this book appears in",
                    "URI": "/library",
                    "parameters": [
                        {
                            "Name": "book",
                            "Type":    "integer",
                            "Pattern": "[0-9]+",
                            "Required": "Y",
                            "Description": "Book to find in libraries"
                        },
                        {
                            "Name": "filter",
                            "Type": "enumerated",
                            "EnumeratedList": [
                                "",
                                "followers",
                                "following"
                            ],
                            "Required": "N"
                        },
                        {
                            "Description": "The direction in which to order the results",
                            "EnumeratedList": [
                                "default",
                                "asc",
                                "desc"
                            ],
                            "Name": "direction",
                            "Required": "N",
                            "Type": "enumerated"
                        },
                        {
                            "Description": "Which page to return",
                            "Name": "page",
                            "Pattern": "[0-9]+",
                            "Required": "N",
                            "Type": "integer"
                        },
                        {
                            "Description": "How many results to return (0-100)",
                            "Name": "rows",
                            "Pattern": "(?:100|[0-9]{0,2})",
                            "Required": "N",
                            "Type": "integer"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Purchases/Payments",
            "methods": [
                {
                    "HTTPMethod": "POST",
                    "MethodName": "Create basket",
                    "RequiresOAuth": "N",
                    "Synopsis": "Creates a new order/basket",
                    "URI": "/payment",
                    "parameters": [
                        {
                            "Name": "currency",
                            "Type":    "string",
                            "Pattern": "[A-Za-z]{3}",
                            "Required": "Y",
                            "Description": "Currency of order"
                        },
                        {
                            "Name": "country",
                            "Type": "string",
                            "Pattern": "[A-Za-z]{2}",
                            "Required": "Y",
                            "Description": "Country of order"
                        },
                        {
                            "Description": "Editions to populate the order/basket with",
                            "Name": "items",
                            "Required": "N",
                            "Type": "string[]"
                        }
                    ]
                },
                {
                    "HTTPMethod": "GET",
                    "MethodName": "Get basket",
                    "RequiresOAuth": "N",
                    "Synopsis": "Get an order/basket",
                    "URI": "/payment/:reference",
                    "parameters": [
                        {
                            "Name": "reference",
                            "Type":    "string",
                            "Required": "Y",
                            "Description": "Order id/reference"
                        }
                    ]
                },
                {
                    "HTTPMethod": "GET",
                    "MethodName": "Notify (Adyen Only)",
                    "RequiresOAuth": "N",
                    "Synopsis": "Notifies the API about the payment status of an order",
                    "URI": "/payment/:reference/notify",
                    "parameters": [
                        {
                            "Name": "reference",
                            "Type": "string",
                            "Pattern": "ADYEN[A-Za-z0-9]+",
                            "Required": "Y",
                            "Description": "Order id/reference"
                        },
                        {
                            "Name": "live",
                            "Type": "boolean",
                            "Required": "Y",
                            "Description": "Indicates whether the notification originated from a live or test server"
                        },
                        {
                            "Name": "eventCode",
                            "Type": "enumerated",
                            "EnumeratedList": [
                                "AUTHORISATION",
                                "CANCELLATION",
                                "REFUND",
                                "CANCEL_OR_REFUND",
                                "CAPTURE",
                                "REFUNDED_REVERSED",
                                "REQUEST_FOR_INFORMATION",
                                "NOTIFICATION_OF_CHARGEBACK",
                                "ADVICE_OF_DEBIT",
                                "CHARGEBACK",
                                "CHARGEBACK_REVERSED",
                                "REPORT_AVAILABLE"
                            ],
                            "Required": "Y",
                            "Description": "Type of event"
                        },
                        {
                            "Name": "pspReference",
                            "Type": "string",
                            "Required": "Y",
                            "Description": "Reference assigned by Adyen to payment",
                            "Default": "testnotification_NOTIFICATIONTEST"
                        },
                        {
                            "Name": "originalReference",
                            "Type": "string",
                            "Required": "Y",
                            "Description": "Original reference assigned by Adyen to payment (blank for payments)",
                            "Default": ""
                        },
                        {
                            "Name": "merchantReference",
                            "Type": "string",
                            "Pattern": "ADYEN[A-Za-z0-9]+",
                            "Required": "Y",
                            "Description": "Our reference (order id)"
                        },
                        {
                            "Name": "merchantAccountCode",
                            "Type": "string",
                            "Required": "Y",
                            "Description": "Adyen merchant account code",
                            "Default": ""
                        },
                        {
                            "Name": "eventDate",
                            "Type": "string",
                            "Required": "Y",
                            "Description": "The time the event was generated"
                        },
                        {
                            "Name": "success",
                            "Type": "boolean",
                            "Required": "Y",
                            "Description": "Indicates whether the event succeeded"
                        },
                        {
                            "Name": "paymentMethod",
                            "Type": "string",
                            "Required": "N",
                            "Description": "Method with which payment was made (only for AUTHORISATION)"
                        },
                        {
                            "Name": "operations",
                            "Type": "enumerated[]",
                            "Required": "N",
                            "EnumeratedList": [
                                "CAPTURE",
                                "REFUND",
                                "CANCEL"
                            ],
                            "Description": "Modification operations dupported by this payment (only for AUTHORISATION)"
                        },
                        {
                            "Name": "reason",
                            "Type": "string",
                            "Required": "Y",
                            "Description": "For successful AUTHORISATION it contains: \"AUTHCODE:LAST4DIGITS:EXPIRYDATE\".\nFor unsuccessful AUTHORISATION, it provides the reason for failure.\nFor REPORT_AVAILABLE it provides a url from which the report can be downloaded"
                        },
                        {
                            "Name": "amount[currencyCode]",
                            "Type": "string",
                            "Pattern": "[A-Z]{3}",
                            "Description": "Currency of payment",
                            "Default": "GBP"
                        },
                        {
                            "Name": "amount[value]",
                            "Type": "number",
                            "Description": "Amount of payment in minor units",
                            "Default": "10000"
                        }
                    ]
                }

            ]
        }
    ]
}
